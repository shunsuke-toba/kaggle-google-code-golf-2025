# Task 042: 対角線パターンの補完

# 問題の考察ポイントと解き方

## 考察ポイント

1. **緑色ブロックのパターン**

   - 緑色(3)のブロックが 2 つ配置されている
   - 2*n×2*n の正方形の対角線の一方を形成
   - 対角線は右上-左下、または左上-右下のいずれか

2. **欠けている対角線の特定**

   - 緑色ブロックの位置から元の正方形のサイズを推定
   - どちらの対角線が存在するか判定
   - 欠けている対角線の方向を特定

3. **水色ブロックの配置ルール**

   - 欠けている対角線の各端点に n×n の水色(8)ブロックを配置
   - n は元の正方形のサイズの半分
   - グリッドの境界外には配置しない

4. **座標計算**
   - 緑色ブロックから正方形の境界を特定
   - 欠けている角の位置を計算
   - 水色ブロックの配置範囲を決定

## 解くための手続き

1. **緑色ブロックの検出**

   - グリッド内の緑色(3)のセルを全て検出
   - 最小・最大座標から境界ボックスを計算

2. **対角線パターンの判定**

   - 境界ボックスのサイズから元の正方形のサイズを特定
   - 4 つの角の状態をチェック（緑色があるかどうか）
   - 存在する対角線のパターンを判定

3. **欠けている角の特定**

   - 右上-左下の対角線がある場合: 左上と右下が欠けている
   - 左上-右下の対角線がある場合: 右上と左下が欠けている

4. **水色ブロックのサイズ計算**

   - n = 正方形のサイズ / 2
   - n×n のブロックサイズを決定

5. **水色ブロックの配置**

   - 出力グリッドを入力グリッドのコピーで初期化
   - 欠けている各角に n×n の水色ブロックを配置
   - グリッドの境界チェックを行い、範囲内のみ配置

6. **結果の返却**
   - 緑色ブロックはそのまま保持
   - 適切な位置に水色ブロックが追加されたグリッドを返す
