p=lambda g,x=0:(h:=[(x:=r)for r in g if x!=r])*(g==h)or p([*zip(*h)])