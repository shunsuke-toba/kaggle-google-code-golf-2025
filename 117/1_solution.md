# 問題の考察ポイントと解き方

## 考察ポイント

1. **菱形パターンの検出**

   - 5 マスで構成される菱形（中心と上下左右の 4 マス）を探す
   - 同一色で構成され、斜め 4 方向は空（黒）である必要がある
   - この菱形の中心が対称軸となる

2. **模様の識別**

   - 菱形以外の非黒セルが模様を構成
   - 模様は菱形を基準とした 4 つの象限のうち 1 つのみに存在

3. **対称コピーの実現**
   - 菱形の中心を原点として、模様を他の 3 象限に反転コピー
   - 左右反転と上下反転を組み合わせて 4 象限に配置

## 解くための手続き

1. **菱形の探索**

   - グリッド全体を走査し、菱形パターンを探す
   - 中心(cy, cx)と上下左右の 4 マスが同色で、斜め 4 マスが黒であることを確認

2. **模様の抽出**

   - 菱形以外の非黒セルを収集
   - 菱形の中心からの相対座標で模様を記録

3. **四象限への反転コピー**

   - 各模様セルについて、中心からの相対座標(dy, dx)を計算
   - 以下の 4 つの位置に配置：
     - (cy + dy, cx + dx) : 元の位置
     - (cy + dy, cx - dx) : 左右反転
     - (cy - dy, cx + dx) : 上下反転
     - (cy - dy, cx - dx) : 上下左右反転

4. **結果の返却**
   - 変換後のグリッドを返す
