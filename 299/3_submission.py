def p(g):
 return [[v+(2-6*(v>0))*(t:=2 in r) for v in g[0]]for r in g]