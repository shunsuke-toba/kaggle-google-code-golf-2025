def p(g):
 for _ in g*4:
  g=[{0,5}<{*r}and[*r[:(j:=r[3]<1)],*r[j:j+7][::-1],*r[j+7:]]or[*r]for r in zip(*g[::-1])]
 return g