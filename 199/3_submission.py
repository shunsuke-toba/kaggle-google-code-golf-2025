def p(g):
 for r,R in enumerate(g):
  if v:=sum(R):c=R.index(v);g[r+1][c]=v;break
 g[:r+1]=[[4*(j%2==c%2)for j in range(len(R))]]*-~r;return g
