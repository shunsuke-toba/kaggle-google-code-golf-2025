def p(g):
 for k in range(1900):r[j]=(r:=g[i:=k%30])[j:=k%31%30]%9|g[j][i]%9|r[1-j]*(j>1)%9
 return g