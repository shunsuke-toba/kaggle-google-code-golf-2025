# Task 086: 正方形ブロックの拡張と色反転

## 問題の考察ポイントと解き方

### 考察ポイント

1. **正方形の識別**

   - グリッド上には黒（0）以外に 2 色のみが存在する
   - 正方形は外枠の色と内側の色で構成される
   - 複数の正方形が存在する可能性がある
   - 各正方形は独立して処理される

2. **拡張のルール**

   - n×n の正方形に対して、n/2 セル分拡張（切り捨て）
   - 各辺から外側に向かって拡張
   - 拡張部分は元の枠の色で塗る
   - 各正方形は元のグリッドの情報を保持しながら処理

3. **色の交換**
   - 元の正方形内で枠の色と内側の色を入れ替える
   - 拡張部分は枠の色のまま

### 解くための手続き

1. **色の収集**

   - グリッド全体をスキャンして黒以外の色を特定
   - 2 色でない場合は変換せずに元のグリッドを返す

2. **正方形の探索**

   - 各色について、まだ訪問していない位置から開始
   - BFS（幅優先探索）で連結成分を探索
   - 連結成分の境界から正方形かどうか判定（縦横のサイズが等しいか）
   - 正方形の内部に別の色があることを確認

3. **正方形の情報を保存**

   - 枠の色、内側の色、位置、サイズを記録
   - 訪問済みフラグを更新して重複処理を防ぐ

4. **各正方形に対して変換を実行**

   - 拡張量 = n/2（切り捨て）を計算
   - 上辺から上方向に拡張
   - 下辺から下方向に拡張
   - 左辺から左方向に拡張
   - 右辺から右方向に拡張
   - 元の正方形内で色を交換（枠 ↔ 内側）

5. **結果を返す**
   - 全ての正方形の処理が完了したグリッドを返す
