p=lambda g,r=range(16):max((sum(sum(L:=[[v*(b<=j<d)*({*i[b:d]}=={v})for j in r]for i in g],[]))//v,L)for v in r[1:]for b in r for d in r)[1]