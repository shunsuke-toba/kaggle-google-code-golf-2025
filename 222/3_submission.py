p=lambda g,r=range(16):max((sum(L:=[{*i[b:d]}=={v}-{0}for i in g])*(d-b),[[v*m*(b<=j<d)for j in r]for m in L])for v in r for b in r for d in r)[1]