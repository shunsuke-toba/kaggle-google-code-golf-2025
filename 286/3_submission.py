def p(g):
 for s in[sum({*sum(g,[])})-8]*44:*g,=zip(*((a:=0)or[a:=c or a%8and s-a for c in r]for r in g[::-1]))
 return g