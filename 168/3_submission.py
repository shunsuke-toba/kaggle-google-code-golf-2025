def p(g,r=range(10)):
 for _ in g*4:u=v=0;*g,=zip(*[[r|u*(i-j==v)|(x*y*w and(u:=x,v:=i-j,0)[2])for j,r,x,y,w in zip(r,b,a,[0,*a],[0,*b])]for i,a,b in zip(r,g[:1]+g,g)][::-1])
 return g