def p(g):
 for _ in g*8:*g,=zip(*[[x^(y&3==2==x&3)*8^(x<1<8<y+z)*3for x,y,z in zip(r,[0,*r],[0,*a])]for a,r in zip([[0]*20]+g,g)][::-1])
 return g