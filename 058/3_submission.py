p=lambda g:(r:=range(n:=len(g)))and[[3*(min(x,y,n+~x,n+~y)&1==(n//2-(n&3==2)>x==y-1))for x in r]for y in r]