def p(g):r=range(n:=len(g));return[[3*(max(~x,~y,x-n,y-n)&1^(x==y-1<n-n%4/2-y))for x in r]for y in r]