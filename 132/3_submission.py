p=lambda g,h=lambda g:[(c:=0)or[(c:=c^x)|x for x in r]for r in zip(*g)]:h(h([[sum({*r}&{*c})for c in zip(*g)]for r in g]))