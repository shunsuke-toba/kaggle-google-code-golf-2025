def p(g):s=sum(2in r for r in g)-2;y,x=zip(*[(i,j)for i,r in enumerate(g)for j,v in enumerate(r)if v&2<v]);a,b=min(y),min(x);k=s//(-~max(y)-a);r=range(s);m=[2]*(s+2);return[m,*[[2]+[g[a+i//k][b+j//k]for j in r]+[2]for i in r],m]
