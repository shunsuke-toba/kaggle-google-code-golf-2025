R=range;a=R(9);p=lambda g:[[{(*map(5 .__eq__,u[1::2]),):u for y in R(len(g)-2)for x in R(len(g[0])-2)if min(u:=[g[y+i//3][x+i%3]for i in a])}[r>2,c>2,c<6,r<6][r%3*3+c%3]for c in a]for r in a]