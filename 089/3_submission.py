R=range(-2,3)
def p(g):
 for k in 2,3:
  if(a:=[divmod(i,13)for i in range(169)if sum(g,[])[i]==k]):l,I,J,B=max((len(t:=sorted((v,x,y)for x in R for y in R if-1<i+x<13>j+y>=0<k!=(v:=g[i+x][j+y])>0)),i,j,t)for i,j in a);c=B[l>>1][0]
  for i,j in a:
   for v,x,y in B:
    if(i,j)!=(I,J)and v==c:g[i+x][j+[-y,y][k>2]]=c
 return g