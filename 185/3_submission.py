def p(g):r,k=[[*zip(l:=[i for i,x in enumerate(m)if{*x}-{*g[0]}],l[1:])]for m in(g,zip(*g))];return[[(v:=g[a][b])*(v==g[a][d]==g[c][b]==g[c][d]!=g[0][b])for b,d in k]for a,c in r]