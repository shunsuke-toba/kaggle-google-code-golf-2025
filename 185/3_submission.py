def p(g):E=enumerate;l=max(g[0]);R,C=map(sorted,map(set,zip(*[(i,j)for i,R in E(g)for j,v in E(R)if 0<v!=l])));return[[(v:=g[a][b])*(v==g[a][d]==g[c][b]==g[c][d]!=l)for b,d in zip(C,C[1:])]for a,c in zip(R,R[1:])]
