# Task 102: グレーに囲まれた黒い正方形を赤に塗る

## 問題の考察ポイントと解き方

### 考察ポイント

1. **黒い連結成分の検出**

   - グリッド内の黒（色 0）のセルを起点として、BFS または DFS で連結成分を探索
   - 各連結成分に含まれるセルの座標を記録

2. **正方形判定**

   - 連結成分の最小・最大座標から矩形領域を特定
   - 高さ＝幅であることを確認（正方形の条件）
   - セル数が高さ × 幅と一致することを確認（隙間なく埋まっている条件）

3. **グレー囲み判定**
   - 正方形の上下左右の辺に隣接するセルがすべてグレー（色 5）であることを確認
   - グリッドの境界に接している場合は、その方向のチェックは不要

### 解くための手続き

1. グリッド全体を走査し、未訪問の黒いセルを探す
2. 黒いセルを見つけたら、BFS で連結成分を探索：
   - 隣接する黒いセルをすべて収集
   - 訪問済みフラグを立てて重複探索を防ぐ
3. 収集した黒い連結成分に対して：
   - 最小・最大座標から矩形領域を計算
   - 高さ＝幅かつセル数＝高さ × 幅なら正方形と判定
4. 正方形の場合、グレー囲みをチェック：
   - 上辺の上側の行がすべてグレー（境界チェック付き）
   - 下辺の下側の行がすべてグレー（境界チェック付き）
   - 左辺の左側の列がすべてグレー（境界チェック付き）
   - 右辺の右側の列がすべてグレー（境界チェック付き）
5. すべての条件を満たす場合、その正方形領域を赤（色 2）に塗りつぶす
