def p(g,R=range(12),s=sum):
 for L in 3,4,5,6:
  for y in R:
   M=g[y:y+L];I=M[1:-1]
   for x in R:
    if s(s(m[x+1:x+L-1])for m in I)<1>20*~-L-s(s(m[x:x+L])for m in M):
     for m in I:m[x+1:x+L-1]=[2]*(L-2)
 return g