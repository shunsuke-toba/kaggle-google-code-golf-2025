p=lambda g,t=95,e=8:-t*g or p([[((int((b:=(v.bit_count()))**0.5)**2==b<20)*2+(v<6)*5,v|(v!=5)*(n&~5)|(v<1)*(e:=e*2))[t>0]for v,n in zip(R,(0,*R))]for R in zip(*g[::-1])],t-1)
