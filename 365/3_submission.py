p=lambda g:max((all(F:=sum(S:=[t[n&15:n>>8&15]for t in g[n>>4&15:n>>12]],[]))*F.count(2),~n&255,S)for n in range(43776))[2]