p=lambda g:(E:=enumerate,d:=max(range(1,10),key=sum(g,[]).count),b:=max(i for i,r in E(g)if any(r)),C:=[j for j,v in E(g[b])if v],n:=len(C),a:=b-n+1,c:=C[0],R:=range(n),S:=[(i,j)for i,r in E(g)for j,v in E(r)if v==d and not(a<=i<a+n and c<=j<c+n)],t:=min(S)[0],s:=(max(S)[0]-t+1)//n,l:=min(j for _,j in S),[[g[a+y][c+x]*(g[t+y*s][l+x*s]==d)for x in R]for y in R])[-1]
