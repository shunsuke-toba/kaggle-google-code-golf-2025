def p(g,f=filter):
 for b in sum(g,[]):
  if 0<len({*(h:=[*f(any,zip(*f(any,[[b*(0<d!=b)for d in r]for r in g])))])})<4:k=len(h)//3;return[*zip(*h[::k])][::k]