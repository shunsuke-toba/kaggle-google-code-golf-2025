p=lambda g:(f:=lambda a:[*zip(*[[r[j]or(3in r[j:])*max(r[:j+1])+(3in r[:j])*max(r[j:])for j in range(10)]for r in a])])(f(g))
